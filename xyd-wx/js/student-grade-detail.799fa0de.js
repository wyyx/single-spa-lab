(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["student-grade-detail"],{"0024":function(t,e,a){var i=a("b331");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("44269bc8",i,!0,{sourceMap:!1,shadowMode:!1})},"07e3d":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"chart",style:{width:t.width,height:t.height}})},n=[],r=a("2b0e"),c=a("325d"),s=r["a"].extend({props:{option:{type:Object,required:!0},width:{type:String,required:!0},height:{type:String,required:!0}},data:function(){return{chart:{}}},watch:{option:function(t,e){t&&this.chart.setOption(t)}},created:function(){},mounted:function(){this.initEcharts(this.option)},methods:{initEcharts:function(t){var e=this;this.chart=c["a"].init(this.$refs.chart),this.chart.setOption(t),window.addEventListener("resize",function(){e.chart.resize()})}}}),o=s,d=a("0c7c"),u=Object(d["a"])(o,i,n,!1,null,"51538d21",null);e["a"]=u.exports},"1af5":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,"._img[data-v-ccf13c94]{width:20px;height:20px}.box[data-v-ccf13c94]{padding:15px 15px 7px 15px;border-bottom:1px solid #ccc}.Grade_entry[data-v-ccf13c94]{display:flex}.Grade_entry_text[data-v-ccf13c94]{font-size:18px;margin-left:20px}",""])},"325d":function(t,e,a){"use strict";var i=a("3eba"),n=a.n(i);a("94b1"),a("c037"),a("d28f"),a("627c"),a("007d");e["a"]=n.a},6434:function(t,e,a){"use strict";var i=a("f9c7"),n=a.n(i);n.a},7695:function(t,e,a){"use strict";var i;a.d(e,"d",function(){return n}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return c}),a.d(e,"b",function(){return s}),function(t){t["Absent"]="缺考",t["Prequalified"]="待合格",t["Qualified"]="合格",t["Good"]="良好",t["Excellent"]="优秀"}(i||(i={}));var n=["缺考","待合格","合格","良好","良好1星","良好2星","良好3星","优秀","优秀1星","优秀2星","优秀3星"],r={absent:{name:"缺考",code:1},prequalified:{name:"待合格",code:2},qualified:{name:"合格",code:3},good:{name:"良好",code:4},excellent:{name:"优秀",code:5}},c={absent:{name:"缺考",code:5},prequalified:{name:"待合格",code:4},qualified:{name:"合格",code:3},good:{name:"良好",code:2},excellent:{name:"优秀",code:1}},s=[{name:"优秀",code:1},{name:"良好",code:2},{name:"合格",code:3},{name:"待合格",code:4},{name:"缺考",code:5}]},"7c4a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"header",attrs:{flat:"",app:"",height:"48"}},[a("v-toolbar-title",{staticClass:"text-uppercase"},[a("v-layout",{attrs:{row:"",nowrap:""}},[a("v-flex",{attrs:{shrink:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("div",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"touch",rawName:"v-touch:tap.prevent.stop",value:t.goBack,expression:"goBack",arg:"tap",modifiers:{prevent:!0,stop:!0}}],staticClass:"back-btn-wrapper pa-2 clickable"},[a("span",{staticClass:"icon iconfont icon-fanhui",staticStyle:{"font-size":"24px"}})])]),a("v-flex",{staticClass:"app-both-center subheading header-title"},[a("span",[t._v(t._s(t.title))])])],1)],1),a("v-flex",{attrs:{grow:""}},[t._t("center")],2),a("v-flex",{attrs:{shrink:""}},[t._t("actions")],2)],1)],1)],1)},n=[],r=a("2b0e"),c=r["a"].extend({props:{title:{type:String},showBack:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0}},methods:{goBack:function(){this.$emit("back")}}}),s=c,o=(a("8f47"),a("0c7c")),d=a("6544"),u=a.n(d),h=a("0e8f"),p=a("a722"),l=a("71d9"),f=a("2a7f"),v=a("269a"),m=a.n(v),b=a("3ccf"),g=Object(o["a"])(s,i,n,!1,null,"e08f7ade",null);e["a"]=g.exports;u()(g,{VFlex:h["a"],VLayout:p["a"],VToolbar:l["a"],VToolbarTitle:f["b"]}),m()(g,{Ripple:b["a"]})},"8f47":function(t,e,a){"use strict";var i=a("0024"),n=a.n(i);n.a},a96b:function(t,e,a){"use strict";a.d(e,"a",function(){return r});var i=a("cfdf"),n=function(){function t(){this.baseUrl="",this.httpConfigService=i["a"]}var e=t.prototype;return e.getBriefGrade=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/achievement/teacher-latest-achievement",{classId:t})},e.getHistoryGradeStudentList=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/achievement/teacher-latest-student-list",{classId:t})},e.getHistoryGradeStudentListByCondition=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/achievement/teacher-condition-student-list",t)},e.getStudentGradeDetail=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/achievement/teacher-one-student-achievement",t)},e.getBriefStudentGradeForSchoolRun=function(){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/achievement/school-latest-achievement")},e.getBriefStudentGradeForSchoolRunByCondition=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/achievement/school-condition-achievement",t)},e.getBriefStudentGradeForParents=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/achievement/parent-achievement-brief",{studentId:t})},e.getBriefStudentGradeDetailForParents=function(t){if(t)return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/achievement/parent-achievement-detail",{studentId:t})},e.getBriefStudentGradeDetailForParentsByCondition=function(t){return t.grade&&t.studentId&&void 0!==t.type?this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/achievement/parent-condition-achievement",t):new Promise(function(t,e){})},e.getGradeInputGradeSubjectList=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/exam-submit-record/list",t)},e.addGradeSubject=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/exam-submit-record/add-subject",t)},e.getAvaliableSubjectList=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/course/select_by_teacher_id",t)},e.getStudentList=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/exam-submit-record/detailed",{id:t})},e.addStudentGrade=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/exam-submit-record/add",t)},e.batchAddStudentGrade=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/exam-submit-record/insert",t)},t}(),r=new n},b331:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".v-toolbar .v-toolbar__content[data-v-e08f7ade]{padding-left:0!important;padding-right:0!important}.v-toolbar__title[data-v-e08f7ade]{width:100%}.header[data-v-e08f7ade]{z-index:20;background-color:#ededed}.app-both-center span[data-v-e08f7ade]{display:block;max-width:200px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}",""])},ed0c:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper app-relative app-fill-height app-scroll-y"},[a("Header",{attrs:{title:t.title},on:{back:t.goBack}}),a("div",{staticClass:"mb-3"},[t.chartOption?a("Chart",{attrs:{width:"100%",height:"300px",option:t.chartOption}}):t._e()],1),a("div",{staticClass:"pa-3"},[a("h3",{staticClass:"mb-3"},[t._v("老师评语")]),t._l(t.achievementList,function(e){return a("div",{key:e.subject,staticClass:"comment"},[e.comment?a("div",[a("h4",{staticClass:"mb-2 primary--text"},[t._v(t._s(e.teacherName)+"老师")]),a("p",[t._v("\n          "+t._s(e.comment)+"\n        ")])]):t._e()])})],2)],1)},n=[],r=(a("ac6a"),a("456d"),a("7f7f"),a("2b0e")),c=a("07e3d"),s=a("7695"),o=a("7ffd"),d=a("a96b"),u=a("7c4a"),h=a("048b"),p=r["a"].extend({name:"StudentGradeDetail",components:{Chart:c["a"],Header:u["a"]},props:{grade:{type:String,required:!0},studentId:{type:String,required:!0},type:{type:String,required:!0},name:{type:String,required:!0},semister:{type:String,required:!0},classId:{type:String,required:!0}},data:function(){return{chartOption:null,studentGradeDetail:{}}},computed:Object.assign({title:function(){var t=this;return t.name+t.grade+t.semister},achievementList:function(){var t=this,e=t.studentGradeDetail;return e&&e.achievementVos||[]}},Object(o["b"])(h["b"],{fromPath:h["a"]})),methods:{goBack:function(){var t=this;this.$router.push({path:t.fromPath})},loadStudentGrade:function(){var t=this;d["a"].getStudentGradeDetail({grade:this.grade,studentId:parseInt(this.studentId),type:parseInt(this.type)}).then(function(e){console.log("TCL: loadStudentGrade -> res",e),t.studentGradeDetail=e.data.content||{},t.studentGradeDetail=Object.assign({},t.studentGradeDetail,{achievementVos:t.studentGradeDetail.achievementVos}),t.updateChart()})},updateChart:function(){var t=this,e=this.studentGradeDetail.achievementVos||[],a=(e.map(function(t){return t.subject}),e.map(function(t){return 6-t.achievement}));this.chartOption={color:["rgb(229, 145, 229)","#3398DB"],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{show:!0,type:"category",data:e.map(function(t){return t.subject}),axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1},axisLabel:{show:!1},axisLine:{show:!1}}],series:[{name:"成绩",type:"bar",barWidth:"70%",label:{normal:{lineHeight:18,show:!0,position:"top",formatter:function(e){e.componentType,e.seriesType,e.seriesIndex,e.seriesName,e.name;var a=e.dataIndex,i=e.data,n=(e.value,e.color,t.studentGradeDetail),r=n.achievementVos&&n.achievementVos[a].star,c=0===r?"":"\n"+r+"星";return Object.keys(s["c"]).map(function(t){return s["c"][t]}).filter(function(t){return t.code===i})[0].name+c}}},data:a,itemStyle:{color:function(t){var e="#909090",a="#F86E6E",i="#E591E5",n="#33CCFF";switch(t.data){case s["c"].absent.code:return e;case s["c"].prequalified.code:return a;case s["c"].qualified.code:return i;default:return n}}}}]}}},created:function(){var t=this;console.log("this.currentStudentForTeacher",t.currentStudentForTeacher),this.loadStudentGrade()},mounted:function(){}}),l=p,f=(a("6434"),a("0c7c")),v=Object(f["a"])(l,i,n,!1,null,"ccf13c94",null);e["default"]=v.exports},f9c7:function(t,e,a){var i=a("1af5");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("499e").default;n("ff5452c0",i,!0,{sourceMap:!1,shadowMode:!1})}}]);