(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["duty-detail"],{"0024":function(t,e,a){var s=a("b331");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("44269bc8",s,!0,{sourceMap:!1,shadowMode:!1})},"178d8":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"pswp",staticClass:"pswp",attrs:{tabindex:"-1",role:"dialog","aria-hidden":"true"}},[a("div",{staticClass:"pswp__bg"}),t._m(0)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pswp__scroll-wrap"},[a("div",{staticClass:"pswp__container"},[a("div",{staticClass:"pswp__item"}),a("div",{staticClass:"pswp__item"}),a("div",{staticClass:"pswp__item"})]),a("div",{staticClass:"pswp__ui pswp__ui--hidden"},[a("div",{staticClass:"pswp__top-bar"},[a("div",{staticClass:"pswp__counter"}),a("button",{staticClass:"pswp__button pswp__button--close",attrs:{title:"Close (Esc)"}}),a("button",{staticClass:"pswp__button pswp__button--share",attrs:{title:"Share"}}),a("button",{staticClass:"pswp__button pswp__button--fs",attrs:{title:"Toggle fullscreen"}}),a("button",{staticClass:"pswp__button pswp__button--zoom",attrs:{title:"Zoom in/out"}}),a("div",{staticClass:"pswp__preloader"},[a("div",{staticClass:"pswp__preloader__icn"},[a("div",{staticClass:"pswp__preloader__cut"},[a("div",{staticClass:"pswp__preloader__donut"})])])])]),a("div",{staticClass:"pswp__share-modal pswp__share-modal--hidden pswp__single-tap"},[a("div",{staticClass:"pswp__share-tooltip"})]),a("button",{staticClass:"pswp__button pswp__button--arrow--left",attrs:{title:"Previous (arrow left)"}}),a("button",{staticClass:"pswp__button pswp__button--arrow--right",attrs:{title:"Next (arrow right)"}}),a("div",{staticClass:"pswp__caption"},[a("div",{staticClass:"pswp__caption__center"})])])])}],o=a("2b0e"),n=a("5236"),r=a.n(n),l=a("b278"),c=a.n(l),p=o["a"].extend({name:"PhotoSwipe",props:{imageList:Array},data:function(){return{gallery:{}}},methods:{showGallery:function(t){var e=this,a=this.$refs.pswp,s=[].concat(e.imageList.map(function(t){return{src:t,w:0,h:0}})),i={index:t||0,counterEl:!0,closeEl:!1,captionEl:!1,fullscreenEl:!1,zoomEl:!1,shareEl:!1,arrowEl:!1,tapToClose:!0,history:!1},o=new r.a(a,c.a,s,i);e.gallery=o,o.listen("gettingData",function(t,e){if(e.w<1||e.h<1){var a=new Image;a.onload=function(){e.w=a.width,e.h=a.height,o.invalidateCurrItems(),o.updateSize(!0)},a.src=e.src}}),o.init()}}}),d=p,u=a("0c7c"),h=Object(u["a"])(d,s,i,!1,null,null,null);e["a"]=h.exports},"19ca":function(t,e,a){var s=a("f6ab");"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var i=a("499e").default;i("41374d36",s,!0,{sourceMap:!1,shadowMode:!1})},"3adc":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"duty-detail-page app-fill-height white"},[a("Header",{attrs:{title:"扣分详情"},on:{back:t.goBack}}),a("div",{staticClass:"content pa-3 app-fill-height app-scroll-y"},[a("div",{staticClass:"base-info"},[a("h5",{staticClass:"body-1 pb-1 "},[a("span",{staticClass:"font-weight-bold"},[t._v("班级：")]),t._v("\n        "+t._s(t.dutyDetail.className)+"\n      ")]),a("h5",{staticClass:"body-1 pb-1 "},[a("span",{staticClass:"font-weight-bold"},[t._v("设备：")]),t._v("\n        "+t._s(t.dutyDetail.deviceCode)+"\n      ")]),a("h5",{staticClass:"body-1 pb-1 "},[a("span",{staticClass:"font-weight-bold"},[t._v(" 时间：")]),t._v("\n        "+t._s(t._f("dateFilter")(t.dutyDetail.createTime,"yyyy-M-d HH:mm"))+"\n      ")]),a("h5",{staticClass:"body-1 pb-1 "},[a("span",{staticClass:"font-weight-bold"},[t._v(" 类别：")]),t._v("\n        "+t._s(t.dutyDetail.checkName)+"\n      ")]),a("h5",{staticClass:"body-1 pb-1 "},[a("span",{staticClass:"font-weight-bold"},[t._v(" 扣分：")]),t._v("\n        "+t._s(t.dutyDetail.score)+"\n      ")]),a("h5",{staticClass:"body-1 pb-1 "},[a("span",{staticClass:"font-weight-bold"},[t._v(" 备注：")]),t._v("\n        "+t._s(t.dutyDetail.remark)+"\n      ")])]),a("div",{staticClass:"details"},[a("h5",{staticClass:"body-1 details-text"},[a("span",{staticClass:"font-weight-bold"},[t._v(" 详情：")]),t._v("\n        "+t._s(t.dutyDetail.checkSubName)+"\n      ")])]),a("div",{staticClass:"images"},t._l(t.dutyDetail.url||[],function(e,s){return a("div",{key:e+s,staticClass:"py-3"},[a("img",{attrs:{src:e+"?imageView2/2/w/"+t.screenWidth,alt:""},on:{click:function(e){return e.stopPropagation(),t.showGallary(s)},load:t.updateScroll}})])}),0)]),a("PhotoSwipe",{ref:"ps",attrs:{imageList:t.dutyDetail.url?t.dutyDetail.url:[]}})],1)},i=[],o=a("2b0e"),n=a("7c4a"),r=a("bd51"),l=a("4308"),c=a("178d8"),p=a("7ffd"),d=a("2ede"),u=o["a"].extend({data:function(){return{dutyDetail:{},screenWidth:window.screen.width}},components:{Header:n["a"],PhotoSwipe:c["a"]},created:function(){this.$changeTitle("值周")},mounted:function(){this.updateScroll(),this.loadDutyDetail()},computed:Object.assign({},Object(p["b"])(d["b"],{roleRoute:d["p"]})),methods:{goBack:function(){var t=this;t.roleRoute?this.$router.push({path:"/workbench/"+t.roleRoute}):this.$router.push({path:"/"})},loadDutyDetail:function(){var t=this,e=this.$route.params.id;e&&l["a"].getDutyDetailById(parseInt(e)).then(function(e){t.dutyDetail=e.data.content||{}}),sessionStorage.removeItem(r["f"].p)},showGallary:function(t){var e=this;e.$refs.ps.showGallery(t)},updateScroll:function(){console.log("TCL: updateScroll -> updateScroll");var t=this,e=document.querySelector("#scroll-"+t.activeIndex);if(e){var a=e&&e.__vue__;a.refresh()}}}}),h=u,_=(a("fc8e"),a("0c7c")),f=Object(_["a"])(h,s,i,!1,null,"717b9907",null);e["default"]=f.exports},4308:function(t,e,a){"use strict";a.d(e,"a",function(){return o});var s=a("cfdf"),i=function(){function t(){this.baseUrl="",this.httpConfigService=s["a"]}var e=t.prototype;return e.getDeductionList=function(t,e,a){return void 0===e&&(e=1),void 0===a&&(a=10),console.log("TCL: DutyService -> getDeductionList -> classId",t),this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/score/list-page",{classId:t,pageNo:e,pageSize:a})},e.getDeductionHistoryByWeek=function(t){return console.log("TCL: DutyService -> getDeductionHistoryByWeek -> classId",t),this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/score/class-report-froms",{classId:t})},e.getClassList=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/class/list-by-teacher-id",{teacherId:t})},e.getDutyTop=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=10),this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/score-week/list-page",{pageNo:t,pageSize:e})},e.getDutyDetailById=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/score/info",{dutyScoreHistoryId:t})},t}(),o=new i},"7c4a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"header",attrs:{flat:"",app:"",height:"48"}},[a("v-toolbar-title",{staticClass:"text-uppercase"},[a("v-layout",{attrs:{row:"",nowrap:""}},[a("v-flex",{attrs:{shrink:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("div",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"touch",rawName:"v-touch:tap.prevent.stop",value:t.goBack,expression:"goBack",arg:"tap",modifiers:{prevent:!0,stop:!0}}],staticClass:"back-btn-wrapper pa-2 clickable"},[a("span",{staticClass:"icon iconfont icon-fanhui",staticStyle:{"font-size":"24px"}})])]),a("v-flex",{staticClass:"app-both-center subheading header-title"},[a("span",[t._v(t._s(t.title))])])],1)],1),a("v-flex",{attrs:{grow:""}},[t._t("center")],2),a("v-flex",{attrs:{shrink:""}},[t._t("actions")],2)],1)],1)],1)},i=[],o=a("2b0e"),n=o["a"].extend({props:{title:{type:String},showBack:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0}},methods:{goBack:function(){this.$emit("back")}}}),r=n,l=(a("8f47"),a("0c7c")),c=a("6544"),p=a.n(c),d=a("0e8f"),u=a("a722"),h=a("71d9"),_=a("2a7f"),f=a("269a"),v=a.n(f),w=a("3ccf"),b=Object(l["a"])(r,s,i,!1,null,"e08f7ade",null);e["a"]=b.exports;p()(b,{VFlex:d["a"],VLayout:u["a"],VToolbar:h["a"],VToolbarTitle:_["b"]}),v()(b,{Ripple:w["a"]})},"8f47":function(t,e,a){"use strict";var s=a("0024"),i=a.n(s);i.a},b331:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".v-toolbar .v-toolbar__content[data-v-e08f7ade]{padding-left:0!important;padding-right:0!important}.v-toolbar__title[data-v-e08f7ade]{width:100%}.header[data-v-e08f7ade]{z-index:20;background-color:#ededed}.app-both-center span[data-v-e08f7ade]{display:block;max-width:200px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}",""])},f6ab:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".duty-detail-page img[data-v-717b9907]{max-width:100%;height:auto!important}.details-text[data-v-717b9907]{line-height:180%!important}",""])},fc8e:function(t,e,a){"use strict";var s=a("19ca"),i=a.n(s);i.a}}]);