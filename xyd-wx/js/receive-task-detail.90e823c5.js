(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["receive-task-detail"],{"0024":function(t,e,a){var i=a("b331");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("44269bc8",i,!0,{sourceMap:!1,shadowMode:!1})},"0579":function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".page-body[data-v-ba36cf3c]{height:100%;display:flex;flex-direction:column;background:#fff}p[data-v-ba36cf3c]{margin:0;padding:0}.task-list[data-v-ba36cf3c]{flex:1;overflow:hidden}.list-item[data-v-ba36cf3c]{display:flex;height:140px;padding:10px 6px;margin:8px 6px;background:#fff;border-radius:6px;border:1px solid #eee;overflow:hidden}.list-item-left[data-v-ba36cf3c]{flex:1;padding:0 14px}.list-item-left-title[data-v-ba36cf3c]{line-height:40px;font-size:16px;color:#000}.list-item-left-des[data-v-ba36cf3c],.list-item-left-title[data-v-ba36cf3c]{height:40px;overflow:hidden;word-break:break-all}.list-item-left-des[data-v-ba36cf3c]{line-height:20px;font-size:12px;color:#999;margin-bottom:16px;position:relative}.list-item-left-des .task-detail-text[data-v-ba36cf3c]{position:absolute;right:4px;bottom:0;padding-left:8px;background:#fff;z-index:5;color:#000}.list-item-left-des .task-detail-text[data-v-ba36cf3c]:hover{color:#0ab6f3}.list-item-left-buttom[data-v-ba36cf3c]{font-size:12px;color:#aaa;line-height:20px}.list-item-right[data-v-ba36cf3c]{width:120px;border-radius:4px;padding:10px}.list-item-right-task-type[data-v-ba36cf3c]{font-size:16px;text-align:center;color:#fff}.list-item-right-task-time[data-v-ba36cf3c]{height:18px;background:hsla(0,0%,100%,.2);margin:10px auto;width:80px;text-align:center;color:#fff;border-radius:2px}.list-item-right-task-btn[data-v-ba36cf3c]{height:36px;line-height:36px;color:#fff;text-align:center;background:hsla(0,0%,100%,.32);border-radius:4px}.list-item .material-icons[data-v-ba36cf3c]{font-size:16px}.list-item .theme--light.v-icon[data-v-ba36cf3c]{color:#aaa}.no-message[data-v-ba36cf3c]{margin:50px auto;width:256px}.hidden[data-v-ba36cf3c]{overflow:hidden}",""])},"0a494":function(t,e,a){"use strict";var i=a("324b"),s=a.n(i);s.a},3123:function(t,e,a){"use strict";a.d(e,"c",function(){return i}),a.d(e,"b",function(){return s}),a.d(e,"a",function(){return n});var i="task/",s="taskDetail",n="allTeachers"},"324b":function(t,e,a){var i=a("0579");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var s=a("499e").default;s("d8fd0612",i,!0,{sourceMap:!1,shadowMode:!1})},"344d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page-body"},[i("Header",{attrs:{title:"任务中心"},on:{back:t.goBack}}),i("div",{staticClass:"task-list app-fill-height app-scroll-y hidden"},[i("div",{directives:[{name:"show",rawName:"v-show",value:0===t.taskJoinInfo.length,expression:"taskJoinInfo.length === 0"}],staticClass:"no-message"},[i("img",{attrs:{src:a("34e6"),alt:""}})]),t._l(t.taskJoinInfo,function(e,a){return i("div",{key:e.id,staticClass:"list-item"},[i("div",{staticClass:"list-item-left"},[i("p",{staticClass:"list-item-left-title",on:{click:function(a){return t.goToTaskCompleteDetail(e,!0)}}},[t._v("\n          "+t._s(e.name)+"\n        ")]),i("p",{staticClass:"list-item-left-des",on:{click:function(a){return t.goToTaskCompleteDetail(e,!0)}}},[t._v("\n          "+t._s(e.description)+"\n          "),i("span",{staticClass:"task-detail-text"},[t._v("... 详情")])]),i("p",{staticClass:"list-item-left-buttom"},[i("v-icon",[t._v("person")]),t._v("\n          "+t._s(e.deployUserName)+"   \n          "),i("v-icon",[t._v("alarm")]),t._v("\n          "+t._s(e.createTime.slice(5,16))+"\n        ")],1)]),i("div",{staticClass:"list-item-right",style:{background:t.getBgcolor(e)}},[i("p",{staticClass:"list-item-right-task-type"},[t._v(t._s(e.taskTemplateName))]),i("p",{staticClass:"list-item-right-task-time"},[t._v(t._s(t.getCountdown2(a)))]),i("div",{staticClass:"list-item-right-task-btn",on:{click:function(a){return t.goToTaskSubmit(e)}}},[t._v("\n          "+t._s(t.getState(e.isOver,e.state))+"\n        ")])])])})],2)],1)},s=[],n=(a("a481"),a("ac6a"),a("2b0e")),o=a("7c4a"),r=a("69a4"),c=a("7ffd"),l=a("80b8"),p=a("3123"),d=n["a"].extend({data:function(){return{taskJoinInfo:[],intervalId2:0,countdownList2:[]}},components:{Header:o["a"]},created:function(){var t=this;document.title="任务活动中心",r["a"].getTaskJoinDetail({pageNo:1,pageSize:1e3}).then(function(e){console.log("TCL: res",e),t.taskJoinInfo=e.data.content;var a=[];e.data.content.forEach(function(t){a.push({id:t.id,endDate:t.endDate,remainTime:0,output:""})}),t.countdownList2=a,t.$data.intervalId2=setInterval(function(){t.$data.countdownList2.forEach(function(t){var e=new Date(Date.parse(t.endDate.replace(/-/g,"/"))),a=new Date,i=e.getTime()-a.getTime()+864e5,s=0,n=0,o=0;if(i>=0){s=Math.floor(i/1e3/60/60),n=Math.floor(i/1e3/60%60),o=Math.floor(i/1e3%60),n<10&&(n="0"+n),s<10&&(s="0"+s),o<10&&(o="0"+o);var r=s+":"+n+":"+o;t.output=r}else t.output="00:00:00"})},1e3)})},computed:Object.assign({},Object(c["b"])(p["c"],{taskDetail:p["b"]})),methods:{goBack:function(){this.$router.push("workbench/parents")},getCountdown2:function(t){return this.$data.countdownList2[t].output},getState:function(t,e){return 1===t?"已结束":1===e?"已完成":"去完成"},getBgcolor:function(t){if("教师节活动"===t.taskTemplateName)return"#F26F94";switch(this.getState(t.isOver,t.state)){case"已完成":return"#33CC99";case"去完成":return"#0AB6F3";case"已结束":return"#BCBCBC"}},goToTaskSubmit:function(t){0===t.isOver&&0===t.state&&(l["a"].store.set(p["c"]+p["b"],t),this.$router.push({name:t.submitPage}))},goToTaskCompleteDetail:function(t,e){l["a"].store.set(p["c"]+p["b"],t),t.taskTemplateName,this.$router.push({name:t.detailPage,query:{state:e}})}},destroyed:function(){clearInterval(this.$data.intervalId2)}}),f=d,h=(a("0a494"),a("0c7c")),u=a("6544"),v=a.n(u),g=a("132d"),b=Object(h["a"])(f,i,s,!1,null,"ba36cf3c",null);e["default"]=b.exports;v()(b,{VIcon:g["a"]})},"34e6":function(t,e,a){t.exports=a.p+"img/no_data01.9ca6019c.png"},"69a4":function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("cfdf"),s=function(){function t(){this.baseUrl="",this.httpConfigService=i["a"]}var e=t.prototype;return e.getTaskTemplate=function(){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-template/select-release-list")},e.taskPublish=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task/insert",t)},e.getClassStudent=function(){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/class/select-class-by-teacher-id")},e.getGradeClass=function(){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/class/select-grade-by-school-id")},e.getClassIdAllStudent=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/student/list-by-class-id",{classId:t})},e.getPublishTaskDetail=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task/select-page-by-deploy-user-id",t)},e.getTaskJoinDetail=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-msg/user-task-page-list",t)},e.getPunchTaskList=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-finish-detail/select-by-task-msg-id",{taskMsgId:t})},e.getPunchTaskDetailList=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-msg/select-page-by-task-id",t)},e.taskSubmit=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-finish-detail/insert",t)},e.punchTaskSubmit=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-finish-detail/update",t)},e.getDailyTaskDetailsList=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-finish-detail/select-page-by-task-id",t)},e.pushClickLike=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-like/update",{id:t})},e.getPersonalTaskDetail=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-finish-detail/select-by-id",{id:t})},e.getTaskCommentList=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-comment/list",t)},e.AddComment=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-comment/add",t)},e.ReplyComment=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"/wx/task-comment-reply/add",t)},e.getVideoToken=function(){return this.httpConfigService.httpSercvice.get(this.baseUrl+"/wx/qiniu/auth")},e.getTaskInfo=function(t){return this.httpConfigService.httpSercvice.post(this.baseUrl+"wx/task-msg/select-by-id",{id:t})},t}(),n=new s},"7c4a":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-toolbar",{staticClass:"header",attrs:{flat:"",app:"",height:"48"}},[a("v-toolbar-title",{staticClass:"text-uppercase"},[a("v-layout",{attrs:{row:"",nowrap:""}},[a("v-flex",{attrs:{shrink:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",[a("div",{directives:[{name:"ripple",rawName:"v-ripple"},{name:"touch",rawName:"v-touch:tap.prevent.stop",value:t.goBack,expression:"goBack",arg:"tap",modifiers:{prevent:!0,stop:!0}}],staticClass:"back-btn-wrapper pa-2 clickable"},[a("span",{staticClass:"icon iconfont icon-fanhui",staticStyle:{"font-size":"24px"}})])]),a("v-flex",{staticClass:"app-both-center subheading header-title"},[a("span",[t._v(t._s(t.title))])])],1)],1),a("v-flex",{attrs:{grow:""}},[t._t("center")],2),a("v-flex",{attrs:{shrink:""}},[t._t("actions")],2)],1)],1)],1)},s=[],n=a("2b0e"),o=n["a"].extend({props:{title:{type:String},showBack:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0}},methods:{goBack:function(){this.$emit("back")}}}),r=o,c=(a("8f47"),a("0c7c")),l=a("6544"),p=a.n(l),d=a("0e8f"),f=a("a722"),h=a("71d9"),u=a("2a7f"),v=a("269a"),g=a.n(v),b=a("3ccf"),m=Object(c["a"])(r,i,s,!1,null,"e08f7ade",null);e["a"]=m.exports;p()(m,{VFlex:d["a"],VLayout:f["a"],VToolbar:h["a"],VToolbarTitle:u["b"]}),g()(m,{Ripple:b["a"]})},"8f47":function(t,e,a){"use strict";var i=a("0024"),s=a.n(i);s.a},b331:function(t,e,a){e=t.exports=a("24fb")(!1),e.push([t.i,".v-toolbar .v-toolbar__content[data-v-e08f7ade]{padding-left:0!important;padding-right:0!important}.v-toolbar__title[data-v-e08f7ade]{width:100%}.header[data-v-e08f7ade]{z-index:20;background-color:#ededed}.app-both-center span[data-v-e08f7ade]{display:block;max-width:200px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}",""])}}]);